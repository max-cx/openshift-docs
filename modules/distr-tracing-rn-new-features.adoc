////
Module included in the following assemblies:
- distributed-tracing-release-notes.adoc
////
////
Feature – Describe the new functionality available to the customer. For enhancements, try to describe as specifically as possible where the customer will see changes.
Reason – If known, include why has the enhancement been implemented (use case, performance, technology, etc.). For example, showcases integration of X with Y, demonstrates Z API feature, includes latest framework bug fixes.
Result – If changed, describe the current user experience.
////
:_content-type: REFERENCE
[id="distr-tracing-rn-new-features_{context}"]
= New features and enhancements

This release adds improvements related to the following components and concepts.

== New features and enhancements {DTProductName} 2.9

This release of {DTProductName} addresses Common Vulnerabilities and Exposures (CVEs) and bug fixes.

=== {JaegerName}

==== Bug fixes

* Expose Jaeger Query gRPC port (16685) on the Jaeger Query service.

// link:https://issues.redhat.com/browse/TRACING-3322[TRACING-3322]

* When deploying Service Mesh on SNO in a disconnected environment , the Jaeger Pod frequently goes into Pending state.

// link:https://issues.redhat.com/browse/TRACING-3312[TRACING-3312]

* Wrong port is exposed for jaeger-production-query resulting in connection refused.
Fixed by exposing Jaeger Query gRPC port (16685) on the Jaeger Query deployment.

// link:https://issues.redhat.com/browse/TRACING-2968[TRACING-29638]

* Jaeger operator pod restarting with OOMKilled with the default memory value.
Fixed by removing resource limits.

// link:https://issues.redhat.com/browse/TRACING-3173[TRACING-3173]

=== {TempoName}

The {TempoName} is Technology Preview feature for {DTProductName}.

==== Enhancements

* Support the operator level 4 (Deep Insights).
This feature enables upgrade, monitoring and alerting of `+TempoStack+` instances and operator.
* Add Ingress and OpenShift Route configuration for the Gateway.
* Support managed and unmanaged state in the `+TempoStack+` custom resource.
* Expose additional ingestion protocols (Jaeger Thrift binary, Jaeger Thrift compact, Jaeger gRPC and Zipkin) in the Distributor service.
When the Gateway is enabled only OTLP gRPC is enabled.
* Expose Jaeger Query gRPC endpoint on the Query Frontend service.
* Support multitenancy without the Gateway (without authentication and authorization).

==== Bug fixes

* Support disconnected environments.

// link:https://issues.redhat.com/browse/TRACING-3145[TRACING-3145]

* Enable mTLS communication between Tempo components.

// link:https://issues.redhat.com/browse/TRACING-3091[TRACING-3091]

* Remove resource limits for Tempo operator.

// link:https://issues.redhat.com/browse/TRACING-3204[TRACING-3204]

==== Known issues

* Custom TLS CA option is not implemented for connecting to an object storage.

// link:https://issues.redhat.com/browse/TRACING-3462[TRACING-3462]

* When you use the Jaeger user interface (UI) with Tempo Operator, the Jaeger UI lists only services that have sent traces within the last 15 minutes.
For services that have not sent traces within the last 15 minutes, those traces are still stored even though they are not visible in the Jaeger UI.

// link:https://issues.redhat.com/browse/TRACING-3139[TRACING-3139]

* Tempo query frontend service should not use internal mTLS when gateway is not deployed. This issue does not affect Jaeger Query API. The workaround is to disable mTLS.

.Disable mTLS
. Open the Tempo operator config map for editing.
+
[source,console]
----
$ oc edit configmap tempo-operator-manager-config -n openshift-operators <1>
----
<1> The namespace where the Tempo operator is installed.

. Disable the mTLS in the operator config.
+
[source,yaml]
----
data:
  controller_manager_config.yaml: |
    featureGates:
      httpEncryption: false
      grpcEncryption: false
      builtInCertManagement:
        enabled: false
----
. Restart Tempo operator pod
+
[source,console]
----
$ oc rollout restart deployment.apps/tempo-operator-controller -n openshift-operators
----

// link:https://issues.redhat.com/browse/TRACING-3510[TRACING-3510]

=== {OTELName}

The {OTELName} is Technology Preview feature for {DTProductName}.

==== Enhancements

* Support OTLP metrics ingestion.
The metrics can be forwarded and stored in the `+user-workload-monitoring+` via the Prometheus exporter.
* Support the operator level 4 (Deep Insights).
This feature enables upgrade and monitoring of `+OpenTelemetryCollector+` instances and operator.
* Report traces and metrics from remote clusters using OTLP/HTTP(s).
* Collect OpenShift specific resource attributes via `+resourcedetection+` processor.
* Support managed and unmanaged state in the `+OpenTelemetryCollector+` custom resouce.

==== Bug fixes

* OpenTelemetry operator crashlooping after receiving opentelemetry-operator.v0.74.0-5. Fixed by properly configuring autoscaler.

// link:https://issues.redhat.com/browse/TRACING-3190[TRACING-3190]

==== Known issues

* Operator level needs to be set to 4 (Deep Insights).

// link:https://issues.redhat.com/browse/TRACING-3431[TRACING-3431]

=== Component versions supported in {DTProductName} version 2.9

[options="header"]
|===
|Operator |Component |Version
|{JaegerName}
|Jaeger
|1.47.0

|{OTELName}
|OpenTelemetry
|0.81.0

|{TempoName}
|{TempoShortName}
|2.1.1
|===

== New features and enhancements {DTProductName} 2.8

This release of {DTProductName} addresses Common Vulnerabilities and Exposures (CVEs) and bug fixes.

=== Component versions supported in {DTProductName} version 2.8

[options="header"]
|===
|Operator |Component |Version
|{JaegerName}
|Jaeger
|1.42

|{OTELName}
|OpenTelemetry
|0.74.0

|{TempoName}
|{TempoShortName}
|0.1.0
|===

== New features and enhancements {DTProductName} 2.7

This release of {DTProductName} addresses Common Vulnerabilities and Exposures (CVEs) and bug fixes.

=== Component versions supported in {DTProductName} version 2.7

[options="header"]
|===
|Operator |Component |Version
|{JaegerName}
|Jaeger
|1.39

|{OTELName}
|OpenTelemetry
|0.63.1
|===

== New features and enhancements {DTProductName} 2.6

This release of {DTProductName} addresses Common Vulnerabilities and Exposures (CVEs) and bug fixes.

=== Component versions supported in {DTProductName} version 2.6

[options="header"]
|===
|Operator |Component |Version
|{JaegerName}
|Jaeger
|1.38

|{OTELName}
|OpenTelemetry
|0.60
|===

== New features and enhancements {DTProductName} 2.5

This release of {DTProductName} addresses Common Vulnerabilities and Exposures (CVEs) and bug fixes.

This release introduces support for ingesting OpenTelemetry protocol (OTLP) to the {JaegerName} Operator.
The Operator now automatically enables the OTLP ports:

* Port 4317 is used for OTLP gRPC protocol.
* Port 4318 is used for OTLP HTTP protocol.

This release also adds support for collecting Kubernetes resource attributes to the {OTELName} Operator.

=== Component versions supported in {DTProductName} version 2.5

[options="header"]
|===
|Operator |Component |Version
|{JaegerName}
|Jaeger
|1.36

|{OTELName}
|OpenTelemetry
|0.56
|===

== New features and enhancements {DTProductName} 2.4

This release of {DTProductName} addresses Common Vulnerabilities and Exposures (CVEs) and bug fixes.

This release also adds support for auto-provisioning certificates using the Red Hat Elasticsearch Operator.

* Self-provisioning, which means using the {JaegerName} Operator to call the Red Hat Elasticsearch Operator during installation.
Self provisioning is fully supported with this release.
* Creating the Elasticsearch instance and certificates first and then configuring the {JaegerShortName} to use the certificate is a Technology Preview for this release.

[NOTE]
====
When upgrading to {DTProductName} 2.4, the Operator recreates the Elasticsearch instance, which might take five to ten minutes.
Distributed tracing will be down and unavailable for that period.
====

=== Component versions supported in {DTProductName} version 2.4

[options="header"]
|===
|Operator |Component |Version
|{JaegerName}
|Jaeger
|1.34.1

|{OTELName}
|OpenTelemetry
|0.49
|===

== New features and enhancements {DTProductName} 2.3.1

This release of {DTProductName} addresses Common Vulnerabilities and Exposures (CVEs) and bug fixes.

=== Component versions supported in {DTProductName} version 2.3.1

[options="header"]
|===
|Operator |Component |Version
|{JaegerName}
|Jaeger
|1.30.2

|{OTELName}
|OpenTelemetry
|0.44.1-1
|===

== New features and enhancements {DTProductName} 2.3.0

This release of {DTProductName} addresses Common Vulnerabilities and Exposures (CVEs) and bug fixes.

With this release, the {JaegerName} Operator is now installed to the `openshift-distributed-tracing` namespace by default.
Before this update, the default installation had been in the `openshift-operators` namespace.

=== Component versions supported in {DTProductName} version 2.3.0

[options="header"]
|===
|Operator |Component |Version
|{JaegerName}
|Jaeger
|1.30.1

|{OTELName}
|OpenTelemetry
|0.44.0
|===

== New features and enhancements {DTProductName} 2.2.0

This release of {DTProductName} addresses Common Vulnerabilities and Exposures (CVEs) and bug fixes.

=== Component versions supported in {DTProductName} version 2.2.0

[options="header"]
|===
|Operator |Component |Version
|{JaegerName}
|Jaeger
|1.30.0

|{OTELName}
|OpenTelemetry
|0.42.0
|===

== New features and enhancements {DTProductName} 2.1.0

This release of {DTProductName} addresses Common Vulnerabilities and Exposures (CVEs) and bug fixes.

=== Component versions supported in {DTProductName} version 2.1.0

[options="header"]
|===
|Operator |Component |Version
|{JaegerName}
|Jaeger
|1.29.1

|{OTELName}
|OpenTelemetry
|0.41.1
|===

== New features and enhancements {DTProductName} 2.0.0

This release marks the rebranding of Red Hat OpenShift Jaeger to {DTProductName}.
This release consists of the following changes, additions, and improvements:

* {DTProductName} now consists of the following two main components:

** *{JaegerName}* - This component is based on the open source link:https://www.jaegertracing.io/[Jaeger project].

** *{OTELName}* - This component is based on the open source link:https://opentelemetry.io/[OpenTelemetry project].

* Updates {JaegerName} Operator to Jaeger 1.28. Going forward, {DTProductName} will only support the `stable` Operator channel.
Channels for individual releases are no longer supported.

* Introduces a new {OTELName} Operator based on OpenTelemetry 0.33. Note that this Operator is a Technology Preview feature.

* Adds support for OpenTelemetry protocol (OTLP) to the Query service.

* Introduces a new distributed tracing icon that appears in the OpenShift OperatorHub.

* Includes rolling updates to the documentation to support the name change and new features.

This release also addresses Common Vulnerabilities and Exposures (CVEs) and bug fixes.

=== Component versions supported in {DTProductName} version 2.0.0

[options="header"]
|===
|Operator |Component |Version
|{JaegerName}
|Jaeger
|1.28.0

|{OTELName}
|OpenTelemetry
|0.33.0
|===
